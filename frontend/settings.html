<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings</title>

    <link rel="stylesheet" href="style.css" />
</head>

<body class="theme-dark">
<div class="app">

    <div class="header">
        <div class="title">Settings</div>
        <div class="small-btn" onclick="goBack()">‚üµ Back</div>
    </div>

    <!-- SMARTAPI PASSWORD -->
    <div class="card">
        <div class="section-title">SmartAPI Password</div>

        <label>Trading Password (PIN)</label>
        <input id="pass" type="password" placeholder="Enter your trading password">

        <div class="chk-row">
            <input type="checkbox" id="savePw">
            <label for="savePw">Save Password on this device</label>
        </div>

        <button class="btn-secondary" onclick="savePassword()">Save Password</button>
    </div>

    <!-- THEME SELECTOR -->
    <div class="card">
        <div class="section-title">Theme</div>

        <select id="themeSelect" onchange="applyTheme()">
            <option value="theme-dark">Dark (Default)</option>
            <option value="theme-light">Light</option>
            <option value="theme-neon">Neon</option>
            <option value="theme-glass">Glassmorphism</option>
        </select>

        <div style="margin-top:12px;font-size:14px;">
            Accent Color
        </div>
        <input id="colorPick" type="color" onchange="setAccentColor(this.value)">
    </div>

</div>

<script>
/* ============================
   LOAD SAVED SETTINGS
============================ */
window.onload = () => {
    document.getElementById("pass").value =
        localStorage.getItem("SMART_PASSWORD") || "";

    document.getElementById("savePw").checked =
        !!localStorage.getItem("SMART_PASSWORD");

    // theme
    const th = localStorage.getItem("APP_THEME") || "theme-dark";
    document.getElementById("themeSelect").value = th;
    document.body.className = th;

    // accent
    const ac = localStorage.getItem("APP_ACCENT") || "#00e4ff";
    document.getElementById("colorPick").value = ac;
    document.documentElement.style.setProperty("--accent", ac);
};

/* ============================
   SAVE PASSWORD
============================ */
function savePassword() {
    const pwd = document.getElementById("pass").value.trim();
    const save = document.getElementById("savePw").checked;

    if (save) {
        localStorage.setItem("SMART_PASSWORD", pwd);
    } else {
        localStorage.removeItem("SMART_PASSWORD");
    }

    alert("Password saved!");
}

/* ============================
   APPLY THEME
============================ */
function applyTheme() {
    const theme = document.getElementById("themeSelect").value;
    document.body.className = theme;
    localStorage.setItem("APP_THEME", theme);
}

/* ============================
   ACCENT COLOR
============================ */
function setAccentColor(color) {
    document.documentElement.style.setProperty("--accent", color);
    localStorage.setItem("APP_ACCENT", color);
}

/* ============================
   BACK BUTTON
============================ */
function goBack() {
    window.location.href = "index.html";
}
</script>

</body>
</html>
