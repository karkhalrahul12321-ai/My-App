<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Settings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="app-shell small">

    <!-- HEADER -->
    <header class="app-header">
      <div class="app-title">Settings</div>
      <button class="btn-ghost" onclick="goBack()">âŸµ Back</button>
    </header>

    <section class="card">
      <div class="card-header">
        <div>
          <div class="card-title">SmartAPI Login Details</div>
          <div class="card-sub">à¤¯à¥‡ app local storage à¤®à¥‡à¤‚ save à¤¹à¥‹à¤‚à¤—à¥‡</div>
        </div>
      </div>

      <div class="form-grid">
        <div class="field">
          <label class="label">SmartAPI Key</label>
          <input id="apiKey" class="input" type="text" placeholder="Enter API Key" />
        </div>

        <div class="field">
          <label class="label">Client/User ID</label>
          <input id="userId" class="input" type="text" placeholder="Client Code" />
        </div>

        <div class="field">
          <label class="label">TOTP Secret</label>
          <input id="totp" class="input" type="text" placeholder="Enter TOTP Secret" />
        </div>

        <div class="field">
          <label class="label">Password (Login)</label>
          <input id="password" class="input" type="password" placeholder="Trading password" />
        </div>
      </div>

      <button id="saveBtn" class="btn-primary">ðŸ’¾ Save Settings</button>
    </section>

    <section class="card">
      <div class="card-header">
        <div>
          <div class="card-title">Theme & Color</div>
          <div class="card-sub">à¤¯à¥‡ à¤ªà¥‚à¤°à¥‡ app à¤ªà¤° à¤²à¤¾à¤—à¥‚ à¤¹à¥‹à¤‚à¤—à¥‡</div>
        </div>
      </div>

      <div class="theme-rows">
        <div class="field">
          <label class="label">Theme</label>
          <select id="themeSelect" class="input">
            <option value="light">Light</option>
            <option value="soft">Soft Grey</option>
            <option value="blue">Blue Pro</option>
            <option value="warm">Warm</option>
            <option value="dark">Dark</option>
          </select>
        </div>

        <div class="field">
          <label class="label">Accent</label>
          <select id="accentSelect" class="input">
            <option value="blue">Blue</option>
            <option value="green">Green</option>
            <option value="teal">Teal</option>
            <option value="orange">Orange</option>
            <option value="purple">Purple</option>
          </select>
        </div>
      </div>

      <button id="saveThemeBtn" class="btn-secondary">Apply Theme</button>
    </section>

  </div>

  <script>
    /* ---------------------------
       LOAD EXISTING SETTINGS
    ---------------------------- */
    window.onload = () => {
      apiKey.value = localStorage.getItem("SMART_API_KEY") || "";
      userId.value = localStorage.getItem("SMART_USER_ID") || "";
      totp.value = localStorage.getItem("SMART_TOTP") || "";
      password.value = localStorage.getItem("SMART_PASSWORD") || "";

      themeSelect.value = localStorage.getItem("theme") || "light";
      accentSelect.value = localStorage.getItem("accent") || "blue";
    };

    /* ---------------------------
       SAVE SMARTAPI SETTINGS
    ---------------------------- */
    document.getElementById("saveBtn").onclick = () => {
      localStorage.setItem("SMART_API_KEY", apiKey.value.trim());
      localStorage.setItem("SMART_USER_ID", userId.value.trim());
      localStorage.setItem("SMART_TOTP", totp.value.trim());
      localStorage.setItem("SMART_PASSWORD", password.value.trim());

      alert("Settings Saved!");
    };

    /* ---------------------------
       SAVE THEME / ACCENT
    ---------------------------- */
    document.getElementById("saveThemeBtn").onclick = () => {
      const theme = themeSelect.value;
      const accent = accentSelect.value;

      localStorage.setItem("theme", theme);
      localStorage.setItem("accent", accent);

      alert("Theme Applied!");
    };

    /* ---------------------------
       BACK BUTTON
    ---------------------------- */
    function goBack() {
      window.location.href = "index.html";
    }
  </script>

</body>
</html>
