<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trading Helper</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <div class="app-shell">

    <!-- HEADER -->
    <div class="app-header" style="margin-bottom: 12px;">
      <h1 style="font-size: 28px;">Trading Helper</h1>

      <div style="display: flex; gap: 10px; margin-top: 6px;">

        <select id="themeDropdown" class="select-compact"></select>
        <select id="accentDropdown" class="select-compact"></select>

        <button class="btn-ghost" onclick="openSettings()">
          ⚙ Settings
        </button>
      </div>
    </div>

    <!-- SERVER URL -->
    <div class="card">
      <p class="card-title">Server URL (Render)</p>
      <input id="serverUrl" class="input" placeholder="https://your-render-url" />
      <p id="serverStatus" class="card-sub" style="margin-top: 8px;">Checking...</p>
    </div>

    <!-- MARKET INPUTS -->
    <div class="card">
      <div class="card-header">
        <p class="card-title">Market Analysis</p>
      </div>

      <p class="card-sub">Inputs भरो • Live data के लिए Login करें + Live Mode चुनें</p>

      <div class="form-grid">
        <div>
          <label class="label">EMA 20</label>
          <input id="ema20" class="input">
        </div>
        <div>
          <label class="label">EMA 50</label>
          <input id="ema50" class="input">
        </div>
        <div>
          <label class="label">RSI</label>
          <input id="rsi" class="input">
        </div>
        <div>
          <label class="label">VWAP</label>
          <input id="vwap" class="input">
        </div>
        <div>
          <label class="label">Spot/LTP</label>
          <input id="spot" class="input">
        </div>
      </div>

      <label class="label">Market</label>
      <select id="market" class="input">
        <option value="nifty">Nifty</option>
        <option value="sensex">Sensex</option>
        <option value="natural gas">Natural Gas</option>
      </select>

      <label class="label" style="margin-top:10px;">Days to Expiry</label>
      <input id="expiryDays" class="input" value="7">

      <div class="switch-row" style="margin-top:12px;">
        <label class="label">Mode</label>
        <label class="switch">
          <input type="checkbox" id="useLive">
          <span class="switch-slider"></span>
        </label>
        <span>Use Live Future LTP</span>
      </div>

      <button id="calcBtn" class="btn-primary" style="margin-top: 16px;">
        ⚡ Calculate Trend & Strikes
      </button>
    </div>

    <!-- RESULT UI -->
    <div class="card result-section">
      <p class="card-title">Result Overview</p>

      <div id="resultSummary" class="result-block" style="display:none;">
        <div class="result-row"><b>Trend:</b> <span id="resTrend"></span></div>
        <div class="result-row"><b>Strength:</b> <span id="resStrength"></span></div>
        <div class="result-row"><b>Bias:</b> <span id="resBias"></span></div>
        <div class="result-row"><b>Score:</b> <span id="resScore"></span></div>
        <div class="result-row"><b>Price Source:</b> <span id="resLive"></span></div>
        <div class="result-row"><b>Spot Used:</b> <span id="resSpot"></span></div>
      </div>

      <p class="result-title" id="strikeTitle" style="display:none;">Options Strike Suggestions</p>

      <div id="resultStrikes" class="result-strikes"></div>

      <button id="toggleJsonBtn" class="btn-ghost" style="margin-top:20px; display:none;">
        Hide JSON
      </button>

      <pre id="resultJson" class="json-box" style="display:none;"></pre>
    </div>

    <!-- LIVE INFO -->
    <div class="card">
      <p class="card-title">SmartAPI / Live Info</p>
      <pre id="liveBox" class="json-box"></pre>
    </div>

  </div>

  <script src="app.js"></script>

  <script>
    function openSettings() {
      window.location.href = "settings.html";
    }
  </script>

</body>
</html>
