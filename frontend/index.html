<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Trading Helper</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- MAIN APP -->
  <div id="mainApp">
    <div class="title">Trading Helper</div>
    <div class="sub">Auto Future LTP · Trend Engine · Smart Strikes</div>

    <!-- SETTINGS LINK -->
    <div class="settings-link">
      <a href="#" id="openSettings">⚙ SmartAPI Settings</a>
    </div>

    <!-- SERVER URL -->
    <div>
      <label>Server URL (Render)</label>
      <input id="server" type="text" placeholder="https://your-app.onrender.com (optional)">
    </div>

    <!-- INPUTS -->
    <div class="section-title">Market Inputs</div>

    <div class="grid">
      <div>
        <label>EMA 20</label>
        <input id="ema20" type="number" />
      </div>
      <div>
        <label>EMA 50</label>
        <input id="ema50" type="number" />
      </div>
    </div>

    <div class="grid">
      <div>
        <label>RSI</label>
        <input id="rsi" type="number" />
      </div>
      <div>
        <label>VWAP</label>
        <input id="vwap" type="number" />
      </div>
    </div>

    <label>Spot / LTP</label>
    <input id="spot" type="number">

    <label>Market</label>
    <select id="market">
      <option value="nifty">Nifty</option>
      <option value="sensex">Sensex</option>
      <option value="natural gas">Natural Gas</option>
    </select>

    <label>Days to Expiry</label>
    <input id="expiry" type="number" value="7">

    <div class="chk-row">
      <input id="useLive" type="checkbox">
      <span>Use Live Data (Auto Future Token)</span>
    </div>

    <!-- CALCULATE -->
    <button id="calc" class="btn">⚡ CALCULATE</button>

    <!-- OUTPUT -->
    <div id="out" class="output"></div>
  </div>

  <!-- SETTINGS PAGE -->
  <div id="settingsPage">
    <h2>SmartAPI Login Settings</h2>

    <label>SmartAPI Key (from backend env)</label>
    <input id="apiKey" type="text" disabled>

    <label>User ID</label>
    <input id="userId" type="text" disabled>

    <label>TOTP Secret</label>
    <input id="totp" type="text" disabled>

    <label>Trading Password (Stored locally)</label>
    <input id="password" type="password">

    <div class="chk-row">
      <input id="savePwd" type="checkbox">
      <span>Save Password</span>
    </div>

    <button id="saveSettings" class="btn">Save</button>
    <button id="closeSettings" class="btn-secondary">Back</button>
  </div>

  <script src="app.js"></script>
</body>
</html>
